<wizard>
	<step id="modeselection" nextstep="rateselection">
		<text value="Video mode selection.\n\nPlease select your video resolution with up/down buttons.\n\nPress OK to continue." />
		<displaytext value="Select video mode" />
		<list type="dynamic" source="listModes" evaluation="modeSelectionMade" onselect="modeSelectionMoved" />
		<code>
self.clearSelectedKeys()
self.selectKey("UP")
self.selectKey("DOWN")
self["portpic"].hide()
		</code>
	</step>
	<step id="rateselection" nextstep="hdmidviselection">
		<condition>
self.condition = (self.port != "DVI" or self.mode == "PC")
		</condition>		
		<text value="Refresh rate selection.\n\nPlease select your refresh rate with up/down buttons.\n\nPress OK to continue." />
		<displaytext value="Select refresh rate" />
		<list type="dynamic" source="listRates" evaluation="rateSelectionMade" onselect="rateSelectionMoved" />
		<code>
self.clearSelectedKeys()
self.selectKey("UP")
self.selectKey("DOWN")
		</code>
	</step>
	<step id="hdmidviselection" nextstep="end">
		<condition>
self.condition = (self.model == "premium")
		</condition>		
		<text value="Output port configuration.\n\nPlease select your hdmi output mode with up/down buttons.\n\nPress OK to continue." />
		<displaytext value="Select hdmi port output" />
		<list type="dynamic" source="listHdmiconfig" evaluation="hdmiconfigSelectionMade" onselect="hdmiconfigSelectionMoved" />
		<code>
self.clearSelectedKeys()
self.selectKey("UP")
self.selectKey("DOWN")
		</code>
	</step>
	<step id="end">
		<code>
self.hw.saveMode(self.port, self.mode, self.rate)
from Components.config import configfile
configfile.save() 
		</code>
		<text value="You have successfully finished the video setup. If you want to change the settings later, you can do this in the settings menu.\n\nPress OK to continue"/>
		<displaytext value="No picture on TV? Press EXIT and retry." />
		</step>
</wizard>